---
import logo from '../assets/logo/logo.png';
import logoBlanco from '../assets/logo/logo_blanco.webp';
import mainImg from '../assets/screenshots/main.png';
import imgMetadata01 from '../assets/screenshots/p_metadata_01.png';
import imgMetadata02 from '../assets/screenshots/p_metadata_02.png';
import imgMenu from '../assets/screenshots/p_menu.png';
import imgCarga from '../assets/screenshots/p_carga.png';
import '../styles/global.css';
---
<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <meta name="generator" content={Astro.generator} />
    <title>Fundacion Emisora Vida FM - La Radio de tu Vida</title>
    <meta
      name="description"
      content="Descarga la app oficial de VIDA 98.7 FM. Escucha tu estaci√≥n favorita con ecualizador, modo dormir y m√°s funciones incre√≠bles."
    />
    <meta
      property="og:title"
      content="VIDA 98.7 FM - La Radio de tu Vida"
    />
    <meta
      property="og:description"
      content="Descarga la app oficial de VIDA 98.7 FM con ecualizador y modo dormir"
    />
    <meta property="og:image" content="/images/og-image.png" />
    <meta property="og:url" content="https://vida987.com" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Barra de descarga desktop -->
    <div class="download-bar desktop-only">
      <div class="container">
        <span>üéµ ¬°Descarga la app oficial de VIDA 98.7 FM!</span>
        <a href="#download" class="btn-download-bar">
          <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
            <path
              d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"
            ></path>
            <path
              d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"
            ></path>
          </svg>
          Descargar Ahora
        </a>
      </div>
    </div>

    <!-- Header -->
    <header class="header">
      <nav class="nav container">
        <div class="logo">
		  <img class="logo-img" src={logo.src} alt="Logo" fetchpriority="high" />
        </div>
        <div class="nav-links">
          <a href="#features">Caracter√≠sticas</a>
          <a href="#screenshots">Capturas</a>
          <a href="#download">Descargar</a>
        </div>
      </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
      <div class="hero-bg">
        <div class="hero-shapes">
          <div class="shape shape-1"></div>
          <div class="shape shape-2"></div>
          <div class="shape shape-3"></div>
        </div>
      </div>

      <div class="container hero-content">
        <div class="hero-text">
          <h1 class="hero-title">
            Tu m√∫sica favorita
            <span class="highlight">siempre contigo</span>
          </h1>
          <p class="hero-subtitle">
            Disfruta de VIDA 98.7 FM con sonido de alta calidad, ecualizador
            integrado y funciones exclusivas que har√°n de tu experiencia algo
            √∫nico.
          </p>
          <div class="hero-stats">
            <div class="stat">
              <span class="stat-number" id="download-count-number">1M+</span>
              <span class="stat-label">Descargas</span>
            </div>
            <!-- <div class="stat">
              <span class="stat-number">4.8‚òÖ</span>
              <span class="stat-label">Calificaci√≥n</span>
            </div> -->
            <div class="stat">
              <span class="stat-number">24/7</span>
              <span class="stat-label">En vivo</span>
            </div>
          </div>
        </div>

        <div class="hero-phone">
  <img class="phone-image" src={mainImg.src} alt="Captura de la app VIDA 98.7 FM" fetchpriority="high" />
</div>
      </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features">
      <div class="container">
        <h2 class="section-title">Caracter√≠sticas incre√≠bles</h2>
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon">üéµ</div>
            <h3>Transmisi√≥n en Vivo</h3>
            <p>
              Escucha tu estaci√≥n favorita en tiempo real con calidad de audio
              superior.
            </p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">üéõÔ∏è</div>
            <h3>Ecualizador Integrado</h3>
            <p>
              Personaliza tu experiencia de audio con nuestro ecualizador
              profesional.
            </p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">üò¥</div>
            <h3>Modo Dormir</h3>
            <p>
              Programa el apagado autom√°tico para quedarte dormido con tu m√∫sica
              favorita.
            </p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">üì±</div>
            <h3>Interfaz Moderna</h3>
            <p>
              Dise√±o limpio e intuitivo que hace que usar la app sea un placer.
            </p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">üì§</div>
            <h3>Comparte en Redes</h3>
            <p>
              Comparte lo que est√°s escuchando con tus amigos en redes sociales.
            </p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">üîÑ</div>
            <h3>Actualizaciones</h3>
            <p>
              Sistema flexible de actualizaciones desde Play Store o GitHub.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Screenshots Section -->
    <section id="screenshots" class="screenshots">
      <div class="container">
        <h2 class="section-title">Ve la app en acci√≥n</h2>
        <div class="screenshots-grid">
          <div class="screenshot-card">
            <img class="phone-image" src={imgMetadata01.src} alt="Pantalla Principal con metadata 01 de VIDA 98.7 FM">
          </div>
		  <div class="screenshot-card">
            <img class="phone-image" src={imgMenu.src} alt="Pantalla con menu de opciones de VIDA 98.7 FM">
          </div>
		  <div class="screenshot-card">
            <img class="phone-image" src={imgCarga.src} alt="Pantalla de carga de VIDA 98.7 FM">
          </div>
		  <div class="screenshot-card">
            <img class="phone-image" src={imgMetadata02.src} alt="Pantalla Principal con metadata 02 de VIDA 98.7 FM">
          </div>
        </div>
      </div>
    </section>

    <!-- Download Section -->
    <section id="download" class="download">
      <div class="container">
        <div class="download-content">
          <h2 class="section-title">Descarga la app ahora</h2>
          <p class="download-subtitle">
            Disponible para dispositivos Android. ¬°Comienza a disfrutar de VIDA
            98.7 FM hoy mismo!
          </p>
          <div class="download-buttons">
            <a
              href="https://github.com/Dansware03/appvida987oficial/releases/download/1.3.1/Vida-98.7-FM-App.apk"
              class="btn-download primary"
            >
              <svg
                width="20"
                height="20"
                fill="currentColor"
                xmlns="http://www.w3.org/2000/svg"
                data-name="Livello 1"
                viewBox="0 0 128 128"
              >
                <path
                  d="M61.88 93.12a3 3 0 0 0 .44.36l.24.13a1.74 1.74 0 0 0 .59.24l.25.07a3 3 0 0 0 1.16 0l.26-.08.3-.09a3 3 0 0 0 .3-.16l.21-.12a3 3 0 0 0 .46-.38L93 66.21A3 3 0 1 0 88.79 62L67 83.76V3a3 3 0 0 0-6 0v80.76L39.21 62A3 3 0 0 0 35 66.21Z"
                ></path>
                <path
                  d="M125 88a3 3 0 0 0-3 3v22a9 9 0 0 1-9 9H15a9 9 0 0 1-9-9V91a3 3 0 0 0-6 0v22a15 15 0 0 0 15 15h98a15 15 0 0 0 15-15V91a3 3 0 0 0-3-3Z"
                ></path>
              </svg>
              Descargar APK
            </a>
            <a
              href="https://play.google.com/store/apps/details?id=com.dansware.vida987fmm"
              class="btn-download secondary"
            >
            <svg
                width="20"
                height="20"
                fill="currentColor"
                xmlns="http://www.w3.org/2000/svg"
                xml:space="preserve"
                style="enable-background:new 0 0 96 96"
                viewBox="0 0 96 96">
				<path d="M18.6 1.2c-7.4-3.3-13.2.5-14 8.4l-.1 76.8h.1c.8 8 6.5 11.7 13.9 8.4l-.5.2 2.4-1.2.6-.3 1-.6 45.7-26.5.3-.2 16.6-9.7-.1-.1c6.8-5 6.1-12.3-.2-16.9l.1-.1L68.3 30l-.6-.5-.1.1L22.1 3.1 21 2.4m-.5-.2-.1-.1h-.1m44.9 30.7-9.7 12-27.3-33.6 37 21.6zM18.4 90.4l-.2.1c-.3.1-.5.3-.7.4-5.5 2.7-8.7.2-8.9-6V10.5c.4-5.9 3.8-8.2 9.3-5.2l.4.2L52.9 48 18.4 90.4zm9.8-5.7 27.3-33.5 9.8 12-37.1 21.5zm54.7-31.9c-.3.2-.6.5-.9.7-.3.2-.5.4-.8.5l-1.9 1.1-10.5 6.1L58 48l10.7-13.1L79.1 41l1.7 1h.1c.4.2.8.5 1.1.7 4 2.9 4.8 6.8.9 10.1z"></path>
			</svg>
            Google Play
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-logo">
            <img class="logo-img" src={logoBlanco.src} alt="Logo" fetchpriority="high" />
          </div>
          <p>&copy; 2025 VIDA 98.7 FM. Todos los derechos reservados.</p>
        </div>
      </div>
    </footer>

    <!-- Bot√≥n flotante m√≥vil -->
    <div class="floating-download mobile-only">
      <a href="#download" class="btn-floating">
        <svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
          <path
            d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"
          ></path>
          <path
            d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 1 0-.708.708l3 3z"
          ></path>
        </svg>
        Descargar App
      </a>
    </div>

    <script>
      (async () => {
        const countElement = document.getElementById('download-count-number'); // This ID will be added in the next step
        const defaultCountText = '1M+'; // Fallback text

        if (!countElement) {
          console.error('Download count element not found');
          return;
        }

        try {
          const response = await fetch('https://api.github.com/repos/Dansware03/appvida987oficial/releases');
          if (!response.ok) {
            throw new Error(`GitHub API request failed: ${response.status}`);
          }
          const releases = await response.json();
          let totalDownloads = 0;
          const assetName = 'Vida-98.7-FM-App.apk';

          for (const release of releases) {
            const targetAsset = release.assets.find(asset => asset.name === assetName);
            if (targetAsset) {
              totalDownloads += targetAsset.download_count;
            }
          }

          if (totalDownloads > 0) {
            countElement.textContent = totalDownloads.toLocaleString();
          } else {
            console.warn(`Asset ${assetName} not found in any release or no downloads recorded.`);
            countElement.textContent = defaultCountText; // Or 'N/A' or some other placeholder
          }
        } catch (error) {
          console.error('Failed to fetch or process download count:', error);
          countElement.textContent = defaultCountText; // Fallback on error
        }
      })();
    </script>
  </body>

</html>
